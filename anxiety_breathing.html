<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Anxiety Relief Page</title>
    <style>
        .custom-button {
            background-color:rgb(99,43,108) ;
            /* Gradient background */
            color: #ffa700;
            /* Chrome yellow text color */
            padding: 10px 20px;
            /* Add padding for better appearance */
            border: none;
            /* Remove default button border */
            border-radius: 20px;
            /* Add rounded corners */
            cursor: pointer;
            /* Change cursor to pointer on hover */
        }

        .custom-button:hover {
            background-color:rgb(199,108,152) ;
            /* Change gradient background on hover */
        }

        body {
            font-family: "Cameo Sans", sans-serif;
            text-align: center;
            font-size: 36px;
            background-image: radial-gradient(circle, rgb(40,15,54),rgb(99,43,108),rgb(199,108,152),rgb(240,159,156),rgb(251,195,162));
            /* Light red to light pink gradient */
            margin: 0;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .play-image {
            cursor: pointer;
            outline: none;
            width: 50px;
            height: auto;
            /* Adjust the size of the image */
        }

        .play-button {
            font-size: 24px;
            cursor: pointer;
            background-color: white;
            color: #ffffff;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            outline: none;
        }

        #content {
            display: none;
            color: white;
            /* Blue color */
        }
        .navbar {
            position: fixed; /* Fix the navbar position */
            left: 0; /* Align to the left side */
            top: 0; /* Align to the top */
            background-color: rgba(255, 255, 255, 0.8); /* Semi-transparent white background */
            width: 20px; /* Width of the navbar */
            height: 100vh; /* Full height of the viewport */
            padding-top: 40px; /* Adjust to align items properly */
            transition: width 0.5s; /* Add transition effect */
            overflow: hidden; /* Hide overflow */
        }
        .navbar:hover {
            width: 200px; /* Expand width on hover */
        }
        .nav-item {
            padding: 20px; /* Padding for each item */
            text-align: center; /* Center align text */
            cursor: pointer; /* Add pointer cursor */
            transition: background-color 0.3s; /* Add transition effect */
        }
        .nav-item:hover {
            background-color: rgba(99,43,108,0.5); /* Change background color on hover */
        }
        /* Search Bar Styles */
        .search-bar {
            width: 80%; /* Adjust the width of the search bar */
            margin: 20px auto; /* Center the search bar */
            padding: 10px; /* Add padding */
            box-sizing: border-box; /* Include padding and border in element's total width and height */
            border: 1px solid #ccc; /* Add border */
            border-radius: 5px; /* Add border radius */
            transition: width 0.5s; /* Add transition effect */
        }
        .search-bar:focus {
            width: 90%; /* Expand width on focus */
        }
        .icon{
            mix-blend-mode: multiply;
            height: 30px;
            width: 30px;
        }
        .submenu {
            display: none; /* Initially hide submenu */
            padding-left: 20px; /* Add indentation */
        }
        .nav-item:hover .submenu {
            display: block; /* Show submenu on parent hover */
        }
        .submenu-item {
            padding: 10px; /* Padding for each submenu item */
        }
        .submenu-item:hover{
            background-color: rgba(99,43,108,0.5);
        }
        img{
            mix-blend-mode: luminosity;
            padding: 50px;
            height: 400px;
            width: 500px;
        }
    </style>
</head>

<body>
    <div class="navbar">
        <input type="text" class="search-bar" placeholder="Search...">
        <div class="nav-item">
            <img src="Icon1_Nav.png" alt="" class="icon">
            <div class="submenu">
                <div class="submenu-item"><a href="anxiety_breathing.html">Anxiety</a></div>
                <div class="submenu-item"><a href="images.html">Images</a></div>
                <div class="submenu-item"><a href="ASMR.html">ASMR</a></div>
                <div class="submenu-item"><a href="Videos.html">Videos</a></div>
                <div class="submenu-item"><a href="guided_med.html">Meditation</a></div>
            </div>
        </div>
        <div class="nav-item">
            <a href="moodActivity.html">
                <img src="Icon2_Nav.png" alt="" class="icon">
            </a>
        </div>
        <div class="nav-item">
            <a href="Journal_whiteboard.html">
            <img src="Icon3_nav.png" alt="" class="icon">
        </a>
        </div>
        <div class="nav-item">
            <a href="resource_form.html">
            <img src="Icon4_Nav.png" alt="" class="icon">
        </a>
        </div>
        <!-- Add more items as needed -->
    </div>
    <div>
        <img src="image.png" alt="">
    </div>

    <div id="content">
        <h1>Let's Relieve Your Anxiety</h1>
        <p>Close your eyes and take a deep breath...</p>
    </div>

    <button id="play-button" class="custom-button" onclick="playAudio()">
        <h1>Let's Relieve Your Anxiety</h1>
        <p>Close your eyes and take a deep breath...</p>
    </button>
    <p></p>
    <audio id="audio" src="AnxietyInducer.mpeg"></audio>

    <script>
        const content = document.getElementById('content');
        const audio = document.getElementById('audio');
        const playButton = document.getElementById('play-button');
        let iteration = 0;

        function playAudio() {
            playButton.style.display = 'none'; // Hide the current play button
            content.style.display = 'block'; // Show the content

            // Play the audio file
            audio.currentTime = 0; // Reset audio to the beginning
            audio.play();

            // Update the text content based on the audio
            let counter = 10;

            function updateCounter() {
                if (iteration === 0) {
                    // Initial text before countdown
                    content.innerHTML = "<h1>You're doing amazing. Ready?</h1><p>Begin. Slowly breathe in and out</p>";
                    iteration++;
                    setTimeout(updateCounter, 5000); // Delay before starting the countdown (changed to 5 seconds)
                } else if (iteration === 1) {
                    // Start countdown
                    if (counter === 0) {
                        // After reaching 0
                        iteration++;
                        content.innerHTML = "<h1>0</h1><p>Wonderful job. Repeat this process if you still feel anxious.</p>";
                        setTimeout(() => {
                            counter = 10;
                            iteration = 0;
                            updateCounter(); // Restart the countdown loop
                        }, 3000);
                    } else {
                        content.innerHTML = "<h1>" + counter + "</h1>";
                        counter--;
                        setTimeout(updateCounter, 1000); // Continue the countdown loop
                    }
                } else if (iteration === 2) {
                    // After 3 iterations, show new play button and extra text
                    iteration++;
                    //content.innerHTML = "<button class='play-button' onclick='playAudio()'>Play Again</button><p>Feeling better? Would you like to go again?</p>";
                } else {
                    // Reset the iteration counter and display the new play button after 3 iterations
                    iteration = 0;
                    playButton.style.display = 'block';
                }
            }

            updateCounter(); // Start the countdown loop

            // Stop audio after 16 seconds
            setTimeout(() => {
                audio.pause();
                content.style.display = 'none'; // Hide the content
                playButton.style.display = 'block'; // Show the play button
                const newfeels = "</p>Feeling Better? If not, let's try again.</p>";
                newfeels.style.cssText = "font-family: 'Cameo Sans', sans-serif; text-align: center; font-size: 36px;";
                playButton.insertAdjacentHTML('afterend', newfeels); // Add additional text
            }, 16000);
        }
    </script>

</body>

</html>
